from odoo.upgrade import util


def migrate(cr, version):
    if not util.version_gte("saas~17.2"):  # also handled by the saas~17.2 script
        update_rules = util.import_script("base/14.0.1.3/end-update-multi-company-rules.py").update_rules
        update_rules(cr, util.splitlines(TO_UPDATE))


TO_UPDATE = """
account.account_bank_statement_comp_rule
account.account_payment_term_comp_rule
analytic.analytic_comp_rule
analytic.analytic_line_comp_rule
analytic.analytic_applicability_comp_rule
analytic.analytic_distribution_model_comp_rule
crm.crm_lead_company_rule
crm.crm_activity_report_rule_multi_company
delivery.delivery_carrier_comp_rule
event.event_event_company_rule
event.event_registration_company_rule
event.ir_rule_event_event_ticket_company
event_crm.ir_rule_event_crm
event_sale.event_sale_report_comp_rule
fleet.ir_rule_fleet_vehicle
fleet.ir_rule_fleet_vehicle_log_contract
fleet.ir_rule_fleet_report
fleet.ir_rule_fleet_odometer
fleet.ir_rule_fleet_log_services
hr.hr_employee_comp_rule
hr.hr_dept_comp_rule
hr.hr_employee_public_comp_rule
hr.hr_job_comp_rule
hr_contract.ir_rule_hr_contract_multi_company
hr_expense.hr_expense_comp_rule
hr_expense.hr_expense_report_comp_rule
hr_holidays.hr_leave_allocation_rule_multicompany
hr_holidays.hr_holidays_status_rule_multi_company
hr_holidays.hr_leave_accrual_plan_rule_multi_company
hr_holidays.hr_leave_mandatory_day_rule_multi_company
hr_holidays.hr_leave_report_calendar_rule_multi_company
hr_recruitment.hr_applicant_comp_rule
hr_skills.hr_employee_skill_report_multicompany
hr_timesheet_attendance.hr_timesheet_attendance_report_restricted_company_rule
hr_work_entry_contract.ir_rule_hr_work_entry_multi_company
loyalty.sale_loyalty_program_company_rule
loyalty.sale_loyalty_card_company_rule
loyalty.sale_loyalty_rule_company_rule
loyalty.sale_loyalty_reward_company_rule
lunch.ir_rule_lunch_supplier_multi_company
lunch.ir_rule_lunch_order_multi_company
lunch.ir_rule_lunch_product_multi_company
lunch.ir_rule_lunch_product_category_multi_company
lunch.ir_rule_lunch_location_multi_company
maintenance.maintenance_request_comp_rule
maintenance.maintenance_equipment_comp_rule
maintenance.maintenance_team_comp_rule
maintenance.maintenance_equipment_category_comp_rule
mrp.mrp_workcenter_rule
mrp.mrp_bom_rule
mrp.mrp_bom_line_rule
mrp.mrp_bom_byproduct_rule
mrp.mrp_routing_workcenter_rule
point_of_sale.rule_pos_order_report_multi_company
project.project_comp_rule
project.project_project_stage_rule
project.task_comp_rule
project.report_project_task_user_report_comp_rule
purchase.purchase_order_comp_rule
purchase.purchase_order_line_comp_rule
purchase.purchase_bill_union_comp_rule
purchase.purchase_order_report_comp_rule
purchase_requisition.purchase_requisition_comp_rule
purchase_requisition.purchase_requisition_line_comp_rule
resource.resource_resource_multi_company
resource.resource_calendar_leaves_rule_multi_company
sale.sale_order_line_comp_rule
sale.sale_order_report_comp_rule
sale_management.sale_order_template_rule_company
sales_team.sale_team_comp_rule
stock.stock_location_comp_rule
stock.stock_move_line_rule
stock.stock_quant_rule
stock.product_pulled_flow_comp_rule
stock.stock_location_route_comp_rule
stock.stock_quant_package_comp_rule
stock.report_stock_quantity_flow_comp_rule
stock.stock_storage_category_rule
stock_landed_costs.stock_landed_cost_rule
test_mail.mail_test_multi_company_rule
test_mail.mail_test_multi_company_read_rule
test_mail.mail_test_multi_company_with_activity_rule
test_mail.mail_test_ticket_mc_rule
test_mail.mail_test_container_mc_rule
test_mail_full.mail_test_rating_rule_mc
base.res_partner_rule
base.res_partner_bank_rule
base.res_currency_rate_rule
base.property_rule

account_asset.account_asset_multi_company_rule
account_auto_transfer.account_auto_transfer_rule
account_budget.budget_post_comp_rule
account_budget.budget_comp_rule
account_budget.budget_lines_comp_rule
account_disallowed_expenses.account_disallowed_expenses_comp_rule
data_cleaning.data_cleaning_record_multi_company
documents_account.documents_folder_setting_company_rule
helpdesk.helpdesk_ticket_company_rule
helpdesk.helpdesk_team_company_rule
helpdesk.helpdesk_sla_company_rule
helpdesk.helpdesk_sla_report_analysis_rule_manager
helpdesk.helpdesk_ticket_report_analysis_rule_multi_company
hr_appraisal.hr_appraisal_comp_rule
hr_appraisal.hr_appraisal_goal_company_rule
hr_contract_reports.hr_contract_employee_report_multi_company
hr_payroll.ir_rule_hr_payslip_multi_company
hr_payroll.ir_rule_hr_payslip_line_multi_company
hr_payroll.ir_rule_hr_payslip_run_multi_company
hr_payroll.ir_rule_hr_salary_attachment_multi_company
hr_payroll.ir_rule_hr_salary_attachment_report_multi_company
hr_payroll.ir_rule_hr_payroll_report_multi_company
hr_recruitment_reports.hr_recruitment_report_multi_company
hr_recruitment_reports.hr_recruitment_stage_report_multi_company
hr_referral.hr_referral_points_comp_rule
hr_referral.hr_referral_alert_comp_rule
hr_referral.hr_referral_reward_comp_rule
hr_referral.hr_hr_referral_onboarding_comp_rule
hr_referral.report_hr_referral_report_comp_rule
iot.iot_box_comp_rule
iot.iot_device_comp_rule
l10n_cl_edi.l10n_cl_certificate_comp_rule
l10n_cl_edi.l10n_cl_dte_caf_comp_rule
l10n_lu_reports.l10n_lu_appendix_multi_company_rule
l10n_pe_edi_stock.l10n_pe_edi_vehicle
mrp_plm.mrp_eco_comp_rule
project_timesheet_forecast.project_timesheet_forecast_multi_rule
quality.quality_alert_comp_rule
quality.quality_check_comp_rule
quality.control_point_comp_rule
quality.quality_team_comp_rule
sale_subscription.sale_subscription_log_multicompany
sale_subscription.sale_subscription_plan_rule_company
sale_subscription.sale_subscription_report_comp_rule
sale_subscription.sale_subscription_log_report_multicompany
social.social_account_rule_company
social.social_post_rule_company
social.social_live_post_rule_company
social.social_stream_rule_company
social.social_stream_post_rule_company
stock_enterprise.stock_report_comp_rule
"""
